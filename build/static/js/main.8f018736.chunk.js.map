{"version":3,"sources":["services/numbers.js","components/Personform.js","components/Filter.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","person","window","confirm","name","delete","PersonForm","props","onSubmit","event","preventDefault","persons","some","newName","numberServices","filter","number","newNum","then","response","setPersons","data","setMessage","setTimeout","catch","error","setErrorMessage","console","log","setNewName","setNewNum","onChange","handleNoteChange","value","handleNumChange","type","Filter","handleFilChange","Persons","toShow","toLowerCase","includes","delButton","val","target","getAttribute","obj","Note","key","onClick","map","message","className","App","useState","setFilter","Message","errorMessage","useEffect","numberService","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f018736.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst removeNum = (person) =>{\r\n    const del = window.confirm(`delete ${person.name}`)\r\n    if(del){\r\n      return axios.delete(`${baseUrl}/${person.id}`)\r\n     }\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nexport default { getAll, create, update, removeNum }","import React from 'react'\r\nimport numberServices from './../services/numbers'\r\n\r\nconst PersonForm = (props) =>{\r\n    const addNumber = (event) => {\r\n      event.preventDefault()\r\n      if (!(props.persons.some(person => person.name === props.newName))){    \r\n          numberServices.create({name: props.newName, number: props.newNum}).then(()=>\r\n            numberServices\r\n            .getAll()\r\n            .then(response => {props.setPersons(response.data)}\r\n            ,props.setMessage(`Added ${props.newName}`)\r\n            ,setTimeout(() => {\r\n              props.setMessage(null)\r\n            }, 3000))\r\n            )            \r\n            .catch(error=>{                  \r\n            props.setMessage(null)\r\n            console.log(error.response.data)\r\n            props.setErrorMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              props.setErrorMessage(null)\r\n            }, 3000)\r\n            numberServices\r\n            .getAll()\r\n            .then(response => {props.setPersons(response.data)})})\r\n\r\n      }\r\n      else{\r\n          if (window.confirm(`${props.newName} is already in the phonebook, replace the old number with a new one?`)){\r\n            numberServices.update(props.persons.filter(\r\n              person => person.name ===props.newName)[0]\r\n              .id, {name: props.newName, \r\n                number: props.newNum, \r\n                id: props.persons.filter(person => person.name ===props.newName)[0].id}\r\n                ).then(() =>\r\n                  numberServices\r\n                  .getAll()\r\n                  .then(response => {props.setPersons(response.data)})\r\n                  ,props.setMessage(`Updated ${props.newName}`)\r\n                  ,setTimeout(() => {\r\n                    props.setMessage(null)\r\n                  }, 3000)\r\n                ).catch((error) =>{\r\n                  props.setMessage(null)\r\n                  props.setErrorMessage(`Information of ${props.newName} has already been removed from server`)\r\n                  setTimeout(() => {\r\n                    props.setErrorMessage(null)\r\n                  }, 3000)\r\n                  numberServices\r\n                  .getAll()\r\n                  .then(response => {props.setPersons(response.data)})}\r\n                )\r\n\r\n          }\r\n      }\r\n      props.setNewName('')\r\n      props.setNewNum('')\r\n\r\n    }\r\n  \r\n    \r\n    return(\r\n      <form onSubmit = {addNumber}>\r\n  \r\n      <div>name: <input \r\n      onChange = {props.handleNoteChange} \r\n      value = {props.newName} /></div>\r\n  \r\n      <div>number: <input \r\n      onChange = {props.handleNumChange} \r\n      value = {props.newNum}/></div>\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) =>{\r\n \r\n    return(\r\n      <div>filter shown with<input \r\n      onChange = {props.handleFilChange} \r\n      value = {props.filter} /></div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\nimport numberServices from './../services/numbers'\r\n\r\nconst Persons = (props) =>{\r\n    const toShow = props.persons.filter(person => \r\n      person.name.toLowerCase().includes(props.filter.toLowerCase()) === true)\r\n    \r\n    const delButton = (event) => {\r\n      const val = event.target.getAttribute('value')\r\n      const obj = props.persons.filter(person => person.id === val)\r\n      console.log(val)\r\n      console.log(obj)\r\n      numberServices.removeNum(obj[0])\r\n      .then(()=>\r\n        numberServices\r\n        .getAll()\r\n        .then(response => {props.setPersons(response.data)})\r\n        ,props.setMessage(`Removed ${obj[0].name}`)\r\n        ,setTimeout(() => {\r\n          props.setMessage(null)\r\n        }, 3000)\r\n        )\r\n        .catch((error) =>{\r\n          props.setMessage(null)\r\n          props.setErrorMessage(`Information of ${obj[0].name} has already been removed from server`)\r\n          setTimeout(() => {\r\n            props.setErrorMessage(null)\r\n          }, 3000)\r\n          numberServices\r\n          .getAll()\r\n          .then(response => {props.setPersons(response.data)})\r\n          }\r\n        )\r\n\r\n    \r\n    } \r\n    \r\n    const Note = ({person}) => \r\n    <li key = {person.name}>{person.name} {person.number}\r\n    <button value={person.id} onClick ={delButton}>\r\n      delete</button></li>\r\n  \r\n    const rows = () => toShow.map(person => \r\n      <Note key = {person.name} person = {person}/>)\r\n  \r\n    return(\r\n      <ul>\r\n      {rows()}\r\n      </ul>\r\n    )\r\n  \r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nconst Errormsg = ({ message }) => {\r\nif (message === null) {\r\n    return null\r\n}\r\n\r\nreturn (\r\n    <div className=\"error\">\r\n    {message}\r\n    </div>\r\n)\r\n}\r\n\r\n  export default {Notification, Errormsg}","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/Personform'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport numberService from './services/numbers'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNum, setNewNum ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [Message, setMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  \r\n  useEffect(() => {\r\n    numberService\r\n    .getAll()\r\n    .then(response => {setPersons(response.data)})\r\n  }, [])\r\n  \r\n\r\n  const handleNoteChange = (event) => setNewName(event.target.value)\r\n  const handleNumChange = (event) => setNewNum(event.target.value)\r\n  const handleFilChange = (event) => setFilter(event.target.value)\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification.Errormsg message = {errorMessage}/>\r\n      <Notification.Notification message = {Message}/>\r\n      <Filter handleFilChange = {handleFilChange} filter = {filter}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm newName = {newName} handleNumChange= {handleNumChange} newNum = {newNum}\r\n      handleNoteChange = {handleNoteChange} persons = {persons} setPersons = {setPersons}\r\n      setNewName = {setNewName} setNewNum = {setNewNum} setMessage = {setMessage}\r\n      setErrorMessage = {setErrorMessage}/>\r\n      <h2>Numbers</h2>\r\n      <Persons persons = {persons} filter = {filter} setPersons={setPersons} \r\n      setMessage = {setMessage} setErrorMessage = {setErrorMessage}/>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}